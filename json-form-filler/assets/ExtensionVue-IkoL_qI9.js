import{r as _,o as b,c as h,a as t,w as y,v as x,p as g,b as k}from"./index-sT7KSR9O.js";const v=(s,n)=>{const c=s.__vccOpts||s;for(const[a,e]of n)c[a]=e;return c},u=s=>(g("data-v-b5b43784"),s=s(),k(),s),w={class:"container-fluid justify-content-center"},F=u(()=>t("h5",{class:"text-center text-primary py-3"},"Json Form Filler",-1)),S={class:"d-flex justify-content-center py-1"},D=u(()=>t("label",{class:"btn btn-primary btn-sm",id:"uploadLabel",for:"upload"},"Загрузить файл",-1)),I=u(()=>t("input",{class:"form-control",type:"file",id:"upload",name:"upload",accept:".json"},null,-1)),N=u(()=>t("footer",{class:"d-flex justify-content-center py-3"},[t("a",{class:"link-primary",href:"https://github.com/waldesem/Json-Form-Filler",target:"_blank"}," GitHub ")],-1)),j={__name:"ExtensionVue",setup(s){const n=_(!0);async function c(a){if(a.preventDefault(),!a.target.files||a.target.files.length===0)return;const e=a.target.files[0];if(!e)return;const o=new FileReader;o.readAsText(e);const d=await new Promise(i=>{o.onload=()=>{i(JSON.parse(o.result))}}),[f]=await chrome.tabs.query({active:!0,currentWindow:!0});await chrome.scripting.executeScript({target:{tabId:f.id},func:(i,m)=>{const l=document.forms.checkform;if(!l)return;const p={lastName:"last_name",firstName:"first_name",midName:"patronymic",birthday:"date",passportSerial:"passport_series",passportNumber:"passport_number",passportIssueDate:"issueDate",inn:"inn",snils:"snils",contactPhone:"mobile_phone",email:"email"};Object.keys(i).forEach(r=>{p[r]&&(["date","issueDate"].includes(p[r])?l[p[r]].value=new Date(i[r]).toLocaleDateString("ru-RU"):l[p[r]].value=i[r])}),m&&l.submit()},args:[d,n.value]})}return(a,e)=>(b(),h("div",w,[F,t("div",S,[t("form",{class:"d-flex justify-content-center align-items-center",id:"uploadForm",onChange:e[1]||(e[1]=o=>c(o))},[D,I,y(t("input",{class:"form-check-input",type:"checkbox",id:"checkbox",name:"checkbox","onUpdate:modelValue":e[0]||(e[0]=o=>n.value=o),title:"Автоматическая отправка формы"},null,512),[[x,n.value]])],32)]),N]))}},E=v(j,[["__scopeId","data-v-b5b43784"]]);export{E as default};
